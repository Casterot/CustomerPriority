<nav th:fragment="nav" class="navbar navbar-expand px-4 py-3">   
    <div class="navbar-collapse collapse">
        <ul class="navbar-nav ms-auto">
            
            <!-- Notificaciones -->
            <li class="nav-item dropdown me-4 d-flex align-items-center">
                <a href="#" data-bs-toggle="dropdown" class="nav-icon position-relative">
                    <i class="bi bi-bell fs-4"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        3
                        <span class="visually-hidden">notificaciones no leídas</span>
                    </span>
                </a>
                <div class="dropdown-menu dropdown-menu-end rounded">
                    <div class="dropdown-header">Notificaciones</div>
                    <a href="#" class="dropdown-item">
                        <i class="bi bi-info-circle"></i>
                        <span>Nueva actualización disponible</span>
                    </a>
                    <a href="#" class="dropdown-item">
                        <i class="bi bi-envelope"></i>
                        <span>Nuevo mensaje recibido</span>
                    </a>
                </div>
            </li>
            
            
            <!-- Nombre del usuario autenticado -->
            <li class="nav-item me-3 d-flex align-items-center">
                <div class="nav-user-info d-flex flex-column align-items-start">
                    <p class="fs-6 text-dark mb-0 nombre-trabajador-nav" th:text="${#authentication.principal.nombreCompleto}"></p>
                    <span class="cargo-trabajador-nav mt-1 mb-2"
      th:text="${#authentication.principal.cargoNombre != null ? #authentication.principal.cargoNombre : 'Sin cargo'}"></span>
                </div>
            </li>
            
            <!-- Avatar existente -->
            <li class="nav-item dropdown">
                <a href="#" data-bs-toggle="dropdown" class="nav-icon pe-md-0">
                    <img th:src="@{/images/account.png}" class="avatar img-fluid" alt="">
                </a>
                <div class="dropdown-menu dropdown-menu-end rounded">
                    <a href="#" class="dropdown-item">
                        <i class="bi bi-person"></i>
                        <span>Mi perfil</span>
                    </a>
                    <a th:href="@{/cambiar-password}" class="dropdown-item">
                        <i class="bi bi-key"></i>
                        <span>Cambiar contraseña</span>
                    </a>
                    <hr class="dropdown-divider">
                    <a href="#" class="dropdown-item" onclick="document.getElementById('logout-form').submit();">
                        <i class="bi bi-box-arrow-left"></i>
                        <span>Cerrar sesión</span>
                    </a>
                    <form id="logout-form" action="/logout" method="post" style="display: none;">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    </form>
                </div>
            </li>
        </ul>
    </div>
</nav>